<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="不管是在腾讯云,阿里云,还是海外vps上部署hugo博客,本教程均适用,详细记录,以备不时之需. 1. 场景 ubuntu 20.04，使用root账号，创建普通账号，并赋予root权限。 查看系统发行版本，命令如下： lsb_release -a 2. 服务器端 接下来就是网上介绍比较少的服务端配置 1 .ssh 进自己的服务器 ssh root@XXX.XXX.XX.XX 2 .建立 git 用户 adduser git 默认会在/home路径下创建一个与用户名相同的用户目录。 3. 安装 git sudo apt install git 4. 给新用户添加管理权限 如果希望新创建的用户具有管理权限，将用户添加到sudo组即可！ 将新用户添加到\u00a0sudo\u00a0组，命令如下： adduser git sudo 5. 账号切换 由root账号切换到普通账号： sudo su git 由普通账号切换到root账号：或者exit sudo su root 注意：切换到root账号时，需要输入当前账号的密码。 6. 在服务端新建 git 仓库 注意这里建的不是\u00a0Github仓库，是自己的服务器上的 git 仓库 在git目录下建立一个仓库\u00a0hugo.git 同时建立一个文件夹hugo用来存放仓库文件 su git cd /home mkdir git cd git git init --bare hugo."><title>迁移 hugo 博客到服务器上</title>
<link rel=canonical href=https://blog.lufei.de/p/%E8%BF%81%E7%A7%BB-hugo-%E5%8D%9A%E5%AE%A2%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A/><link rel=stylesheet href=/scss/style.min.854e34c0d49cd05dfb69d11f315f89d76adcdf82c7f2d2fc9e8e87cbfc5906f9.css><meta property='og:title' content="迁移 hugo 博客到服务器上"><meta property='og:description' content="不管是在腾讯云,阿里云,还是海外vps上部署hugo博客,本教程均适用,详细记录,以备不时之需. 1. 场景 ubuntu 20.04，使用root账号，创建普通账号，并赋予root权限。 查看系统发行版本，命令如下： lsb_release -a 2. 服务器端 接下来就是网上介绍比较少的服务端配置 1 .ssh 进自己的服务器 ssh root@XXX.XXX.XX.XX 2 .建立 git 用户 adduser git 默认会在/home路径下创建一个与用户名相同的用户目录。 3. 安装 git sudo apt install git 4. 给新用户添加管理权限 如果希望新创建的用户具有管理权限，将用户添加到sudo组即可！ 将新用户添加到\u00a0sudo\u00a0组，命令如下： adduser git sudo 5. 账号切换 由root账号切换到普通账号： sudo su git 由普通账号切换到root账号：或者exit sudo su root 注意：切换到root账号时，需要输入当前账号的密码。 6. 在服务端新建 git 仓库 注意这里建的不是\u00a0Github仓库，是自己的服务器上的 git 仓库 在git目录下建立一个仓库\u00a0hugo.git 同时建立一个文件夹hugo用来存放仓库文件 su git cd /home mkdir git cd git git init --bare hugo."><meta property='og:url' content='https://blog.lufei.de/p/%E8%BF%81%E7%A7%BB-hugo-%E5%8D%9A%E5%AE%A2%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A/'><meta property='og:site_name' content='路飞博客'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='hugo'><meta property='article:tag' content='博客'><meta property='article:published_time' content='2023-08-12T06:00:50+00:00'><meta property='article:modified_time' content='2025-09-28T22:10:55+00:00'><meta name=twitter:title content="迁移 hugo 博客到服务器上"><meta name=twitter:description content="不管是在腾讯云,阿里云,还是海外vps上部署hugo博客,本教程均适用,详细记录,以备不时之需. 1. 场景 ubuntu 20.04，使用root账号，创建普通账号，并赋予root权限。 查看系统发行版本，命令如下： lsb_release -a 2. 服务器端 接下来就是网上介绍比较少的服务端配置 1 .ssh 进自己的服务器 ssh root@XXX.XXX.XX.XX 2 .建立 git 用户 adduser git 默认会在/home路径下创建一个与用户名相同的用户目录。 3. 安装 git sudo apt install git 4. 给新用户添加管理权限 如果希望新创建的用户具有管理权限，将用户添加到sudo组即可！ 将新用户添加到\u00a0sudo\u00a0组，命令如下： adduser git sudo 5. 账号切换 由root账号切换到普通账号： sudo su git 由普通账号切换到root账号：或者exit sudo su root 注意：切换到root账号时，需要输入当前账号的密码。 6. 在服务端新建 git 仓库 注意这里建的不是\u00a0Github仓库，是自己的服务器上的 git 仓库 在git目录下建立一个仓库\u00a0hugo.git 同时建立一个文件夹hugo用来存放仓库文件 su git cd /home mkdir git cd git git init --bare hugo."><link rel="shortcut icon" href=/favicon.ico><link rel=stylesheet href=https://npm.elemecdn.com/lxgw-wenkai-screen-webfont@1.7.0/lxgwwenkaiscreen.css><link rel=stylesheet href=https://s1.hdslb.com/bfs/static/jinkela/long/font/regular.css><link rel=stylesheet href=https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/4.7.0/css/font-awesome.min.css><style>#scroll-to-top,#search-button{display:none;position:fixed;right:30px;z-index:99;border:none;outline:none;background-color:transparent;color:#555;cursor:pointer;padding:10px;transition:color .3s}#scroll-to-top:hover,#search-button:hover{color:#333}#scroll-to-top{bottom:20px}#search-button{bottom:80px}.cat-icon{width:40px;height:40px}@media(min-width:768px){#search-button{display:none!important}}@media(max-width:767px){#search-button{display:block}}</style><button onclick=topFunction() id=scroll-to-top title=回到顶部>
<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-square-rounded-arrow-up-filled" width="43" height="43" viewBox="0 0 24 24" stroke-width="1.5" stroke="#597e8d" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 2c-.218.0-.432.002-.642.005l-.616.017-.299.013-.579.034-.553.046c-4.785.464-6.732 2.411-7.196 7.196l-.046.553-.034.579c-.005.098-.01.198-.013.299l-.017.616-.004.318L2 12c0 .218.002.432.005.642l.017.616.013.299.034.579.046.553c.464 4.785 2.411 6.732 7.196 7.196l.553.046.579.034c.098.005.198.01.299.013l.616.017L12 22l.642-.005.616-.017.299-.013.579-.034.553-.046c4.785-.464 6.732-2.411 7.196-7.196l.046-.553.034-.579c.005-.098.01-.198.013-.299l.017-.616L22 12l-.005-.642-.017-.616-.013-.299-.034-.579-.046-.553c-.464-4.785-2.411-6.732-7.196-7.196l-.553-.046-.579-.034a28.058 28.058.0 00-.299-.013l-.616-.017-.318-.004L12 2zm-.148 5.011.058-.007L12 7l.075.003.126.017.111.03.111.044.098.052.104.074.082.073 4 4a1 1 0 01-1.32 1.497l-.094-.083L13 10.415V16a1 1 0 01-1.993.117L11 16v-5.585l-2.293 2.292a1 1 0 01-1.32.083l-.094-.083a1 1 0 01-.083-1.32l.083-.094 4-4a.927.927.0 01.112-.097l.11-.071.114-.054.105-.035.118-.025z" fill="currentcolor" stroke-width="0"/></svg>
</button>
<button onclick=openSearch() id=search-button title=搜索>
<svg width="42" height="42" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="circleClip"><circle cx="18" cy="18" r="16"/></clipPath></defs><rect width="42" height="42" fill="#597e8d" clip-path="url(#circleClip)"/><text x="18" y="22" font-family="Arial, sans-serif" font-size="16" fill="#fff" text-anchor="middle">搜</text></svg>
</button>
<script>window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?(document.getElementById("scroll-to-top").style.display="block",document.getElementById("search-button").style.display="block"):(document.getElementById("scroll-to-top").style.display="none",document.getElementById("search-button").style.display="none")}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}function openSearch(){window.location.href="/search/"}</script><script type=text/javascript>(function(e,t,n,s,o,i,a){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},i=t.createElement(s),i.async=1,i.src="https://www.clarity.ms/tag/"+o,a=t.getElementsByTagName(s)[0],a.parentNode.insertBefore(i,a)})(window,document,"clarity","script","nvdrlerc32")</script><script>window.FPConfig={delay:0,ignoreKeywords:[],maxRPS:3,hoverDelay:50}</script><script defer src=/js/flying-pages.min.js></script></head><body class=article-page><!doctype html><html lang=zh-CN><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Hugo博客公告弹窗</title><style>.announcement-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center;z-index:1000}.announcement-popup{background-color:#f3f3ee;border-radius:12px;padding:25px 30px 30px;max-width:80%;width:400px;box-shadow:0 10px 25px rgba(0,0,0,.1);position:relative;overflow:hidden}.announcement-popup::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.8) 0%,rgba(255,255,255,0) 70%);opacity:.7}.announcement-title{font-size:1.5em;margin-bottom:15px;color:#4a4a4a;position:relative}.announcement-content{margin-bottom:25px;color:#666;line-height:1.6;position:relative}.button-container{text-align:right}.announcement-button{background-color:#c4eded;color:#000;border:none;padding:10px 20px;border-radius:6px;cursor:pointer;transition:all .3s ease;font-weight:700;display:inline-block;min-width:60px}.announcement-button:hover{background-color:silver;transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,.1)}.announcement-button::after{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.3) 0%,rgba(255,255,255,0) 70%);opacity:0;transition:opacity .3s ease}.announcement-button:hover::after{opacity:1}</style></head><body></body></html><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/logo_hu0c0098ec637fbdee9625c9564bc46fb7_131256_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar referrerpolicy=no-referrer></a></figure><div class=site-meta><h1 class=site-name><a href=/>路飞博客</a></h1><h2 class=site-description>自由自在只做感兴趣的事</h2></div></header><ol class=menu-social><li><a href=https://space.bilibili.com/295463778 target=_blank title=bilibili rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-bilibili" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 10a4 4 0 014-4h10a4 4 0 014 4v6a4 4 0 01-4 4H7a4 4 0 01-4-4v-6z"/><path d="M8 3l2 3"/><path d="M16 3l-2 3"/><path d="M9 13v-2"/><path d="M15 11v2"/></svg></a></li><li><a href=https://github.com/woniu336 target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=/index.xml target=_blank title=RSS rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>主页</span></a></li><li><a href=/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>关于</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>归档</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>搜索</span></a></li><li><a href='https://github.com/woniu336?tab=repositories/' target=_blank><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-automation"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M13 20.693c-.905.628-2.36.292-2.675-1.01a1.724 1.724.0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724.0 00-1.065-2.572c-1.756-.426-1.756-2.924.0-3.35a1.724 1.724.0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37 1 .608 2.296.07 2.572-1.065.426-1.756 2.924-1.756 3.35.0a1.724 1.724.0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724.0 001.065 2.572c1.492.362 1.716 2.219.674 3.03"/><path d="M9 12a3 3 0 106 0 3 3 0 00-6 0"/><path d="M17 22l5-3-5-3z"/></svg>
<span>Github</span></a></li><li><a href=/links/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-axe" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#9e9e9e" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M13 9l7.383 7.418c.823.82.823 2.148.0 2.967a2.11 2.11.0 01-2.976.0L10 12"/><path d="M6.66 15.66l-3.32-3.32a1.25 1.25.0 01.42-2.044L7 9l6-6 3 3-6 6-1.296 3.24a1.25 1.25.0 01-2.044.42z"/></svg>
<span>资源</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sun-high" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14.828 14.828A4 4 0 109.172 9.172a4 4 0 005.656 5.656z"/><path d="M6.343 17.657l-1.414 1.414"/><path d="M6.343 6.343 4.929 4.929"/><path d="M17.657 6.343l1.414-1.414"/><path d="M17.657 17.657l1.414 1.414"/><path d="M4 12H2"/><path d="M12 4V2"/><path d="M20 12h2"/><path d="M12 20v2"/></svg>
<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon-stars" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3c.132.0.263.0.393.0a7.5 7.5.0 007.92 12.446A9 9 0 1112 2.992z"/><path d="M17 4a2 2 0 002 2 2 2 0 00-2 2 2 2 0 00-2-2 2 2 0 002-2"/><path d="M19 11h2m-1-1v2"/></svg>
<span>深色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#1-场景>1. 场景</a></li><li><a href=#2-服务器端>2. 服务器端</a><ol><li><ol><li></li></ol></li></ol></li><li><a href=#3-部署本地到服务端>3. 部署本地到服务端</a><ol><li><a href=#如果ssh是其他端口>如果SSH是其他端口</a></li><li><a href=#验证本地仓库关联到远程服务器的-git-仓库>验证本地仓库关联到远程服务器的 Git 仓库</a></li></ol></li><li><a href=#4-自动推送脚本>4. 自动推送脚本</a><ol><li><a href=#5-拉取远程更改并合并>5. 拉取远程更改并合并</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/p/%E8%BF%81%E7%A7%BB-hugo-%E5%8D%9A%E5%AE%A2%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A/>迁移 hugo 博客到服务器上</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2023-08-12</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 2 分钟</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-pencil" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#9e9e9e" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 20h4L18.5 9.5a2.828 2.828.0 10-4-4L4 16v4"/><path d="M13.5 6.5l4 4"/></svg>
<time class=article-time--reading>字数: 320字</time></div></footer></div></header>   <div class=post-ai><div class=ai-title><i class="fa fa-envira" style=font-size:24px></i><div class=ai-title-text>文章摘要</div></div><div id=ai-explanation class=ai-explanation></div><div class="ai-explanation ai-explanation-content">摘要小助理今天溜号啦……😜</div></div><script src=/js/index.umd.js></script><script>document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".ai-explanation-content").textContent;new TypeIt("#ai-explanation",{strings:e,speed:10,lifeLike:!0,waitUntilVisible:!0}).go()})</script><section class=article-content><p>不管是在腾讯云,阿里云,还是海外vps上部署hugo博客,本教程均适用,详细记录,以备不时之需.</p><h2 id=1-场景>1. 场景</h2><p><code>ubuntu 20.04</code>，使用<code>root</code>账号，创建普通账号，并赋予<code>root</code>权限。</p><p>查看系统发行版本，命令如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>lsb_release -a
</span></span></code></pre></div><h2 id=2-服务器端>2. 服务器端</h2><p>接下来就是网上介绍比较少的服务端配置</p><h5 id=1-ssh-进自己的服务器>1 .ssh 进自己的服务器</h5><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>ssh root@XXX.XXX.XX.XX
</span></span></code></pre></div><h5 id=2-建立-git-用户>2 .建立 git 用户</h5><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>adduser git
</span></span></code></pre></div><p>默认会在<code>/home</code>路径下创建一个与用户名相同的用户目录。</p><h5 id=3-安装-git>3. 安装 git</h5><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>sudo apt install git
</span></span></code></pre></div><h5 id=4-给新用户添加管理权限>4. 给新用户添加管理权限</h5><p>如果希望新创建的用户具有管理权限，将用户添加到<code>sudo</code>组即可！</p><p>将新用户添加到 <code>sudo</code> 组，命令如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>adduser git sudo
</span></span></code></pre></div><h5 id=5-账号切换>5. 账号切换</h5><p>由<code>root</code>账号切换到普通账号：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>sudo su git
</span></span></code></pre></div><p>由普通账号切换到<code>root</code>账号：或者<code>exit</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>sudo su root
</span></span></code></pre></div><p>注意：切换到<code>root</code>账号时，需要输入当前账号的<code>密码</code>。</p><h5 id=6-在服务端新建-git-仓库>6. 在服务端新建 git 仓库</h5><p>注意这里建的不是 Github仓库，是自己的服务器上的 <code>git 仓库</code></p><ul><li>在<code>git</code>目录下建立一个仓库 <code>hugo.git</code></li><li>同时建立一个文件夹<code>hugo</code>用来存放仓库文件</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>su git
</span></span><span class=line><span class=cl><span class=nb>cd</span> /home
</span></span><span class=line><span class=cl>mkdir git
</span></span><span class=line><span class=cl><span class=nb>cd</span> git
</span></span><span class=line><span class=cl>git init --bare hugo.git
</span></span><span class=line><span class=cl>sudo chown -R git:git hugo.git
</span></span><span class=line><span class=cl>mkdir hugo
</span></span></code></pre></div><h5 id=7-配置钩子>7. 配置钩子</h5><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>vim /home/git/hugo.git/hooks/post-receive
</span></span></code></pre></div><p>写入以下文本</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git --work-tree<span class=o>=</span>/home/git/hugo --git-dir<span class=o>=</span>/home/git/hugo.git checkout -f
</span></span></code></pre></div><p>配置权限</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>sudo chmod +x /home/git/hugo.git/hooks/post-receive
</span></span></code></pre></div><h5 id=8-配置ssh公钥>8. 配置SSH公钥</h5><p>先在本地生成</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>ssh-keygen -t RSA -C <span class=s2>&#34;usr邮箱&#34;</span>
</span></span><span class=line><span class=cl>cat .ssh/id_rsa.pub
</span></span></code></pre></div><p>然后把 cat 内容复制到服务端的 <code>.ssh/authorized_keys</code> 文件内</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>cd</span> ~
</span></span><span class=line><span class=cl>mkdir .ssh
</span></span><span class=line><span class=cl>touch .ssh/authorized_keys
</span></span><span class=line><span class=cl>chmod <span class=m>600</span> .ssh/authorized_keys
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>vim .ssh/authorized_keys
</span></span></code></pre></div><p>到此为止完成了服务端全部配置，以上任何一步操作如果提示缺少了什么就<code>sudo apt install</code>一下</p><h2 id=3-部署本地到服务端>3. 部署本地到服务端</h2><p>在本地运行</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hugo
</span></span></code></pre></div><p>命令后，网站根目录内生成一个 <code>public</code> 文件夹，里面是静态网页文件，把这个 <code>public</code>文件夹整个 push 到我们刚刚在服务器端配置的 <code>hugo.git</code> 仓库里面</p><p>远程 git 仓库地址格式, 例如<code>ip</code>是 <code>8.8.8.8</code>举例</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git@8.8.8.8:/home/git/hugo.git
</span></span></code></pre></div><p>注意: 默认ssh是22 如果不是,请往下看</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>cd</span> public
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s1>&#39;First Commit&#39;</span>
</span></span><span class=line><span class=cl>git remote add origin git@8.8.8.8:/home/git/hugo.git
</span></span><span class=line><span class=cl>git push -u origin master
</span></span></code></pre></div><p>如果一切顺利，那么 hugo 站点已经成功部署在云服务器上，配置好<code>Nginx</code>, 访问域名即可显示</p><h3 id=如果ssh是其他端口>如果SSH是其他端口</h3><p>比如SSH:33 ip:8.8.8.8</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> public
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s1>&#39;First Commit&#39;</span>
</span></span><span class=line><span class=cl>git remote add origin ssh://git@8.8.8.8:33/home/git/hugo.git
</span></span><span class=line><span class=cl>git push -u origin master 
</span></span></code></pre></div><p>或者</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git push -u ssh://git@8.8.8.8:33/home/git/hugo.git master
</span></span></code></pre></div><h3 id=验证本地仓库关联到远程服务器的-git-仓库>验证本地仓库关联到远程服务器的 Git 仓库</h3><ol><li><p>打开终端或命令行，进入到您本地的 Git 仓库目录。</p></li><li><p>运行以下命令，查看当前配置的远程仓库信息：</p></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git remote -v
</span></span></code></pre></div><p>显示本地仓库的远程关联信息。如果您已经成功关联了远程仓库，您会看到类似于以下的输出：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>origin  ssh://git@8.8.8.8:33/home/git/hugo.git <span class=o>(</span>fetch<span class=o>)</span>
</span></span><span class=line><span class=cl>origin  ssh://git@8.8.8.8:33/home/git/hugo.git <span class=o>(</span>push<span class=o>)</span>
</span></span></code></pre></div><p>在这个输出中，<code>origin</code> 是远程仓库的名称，后面的 URL 显示了远程仓库的地址。如果您在这里看到您想要关联的服务器地址和端口，说明关联已经成功。</p><ol start=3><li>您还可以尝试进行一次 <code>git fetch</code> 操作，以从远程仓库获取最新的更新：</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git fetch origin
</span></span></code></pre></div><p>如果操作成功，说明您的本地仓库可以与远程仓库通信。</p><ol start=4><li>最后，您可以尝试进行一次 <code>git push</code> 操作，将本地的更改推送到远程仓库：</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git push origin master
</span></span></code></pre></div><ol start=5><li>测试 SSH 连接 (注意:ssh是33)</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh -p <span class=m>33</span> git@8.8.8.8
</span></span></code></pre></div><p>这是是一个用于测试 SSH 连接的命令，它会尝试使用 SSH 协议通过指定的端口连接到指定的 IP 地址。如果成功连接，您将会看到类似于以下的输出</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Welcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.4.0-155-generic x86_64)
</span></span><span class=line><span class=cl>...
</span></span></code></pre></div><h2 id=4-自动推送脚本>4. 自动推送脚本</h2><p>每次都需要生成静态文件再推到服务端仓库，很麻烦，所以写一个脚本</p><p>网站根目录 <code>Mysite</code> 下新建一个 <code>vps.sh</code> 脚本文件</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>cd</span> Mysite
</span></span><span class=line><span class=cl>touch vps.sh
</span></span></code></pre></div><p>向其中添加内容：记得修改为你的 <code>ip</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>hugo -D --gc
</span></span><span class=line><span class=cl><span class=nb>cd</span> public
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s1>&#39;Update My Site to vps&#39;</span>
</span></span><span class=line><span class=cl>git push origin master
</span></span></code></pre></div><p>双击打开运行<code>vps.sh</code>即可自动推送文件到仓库,以后写完博客或修改博客后都需要运行一下<code>vps.sh</code>,才能部署到云端</p><p>注意,第一次运行<code>vps.sh</code>可能会出现如图这种情况,直接输入yes回车即可,如果仓库里没发现上传的文件可以再运行一次<code>vps.sh</code></p><h3 id=5-拉取远程更改并合并>5. 拉取远程更改并合并</h3><ol><li>在运行 <code>git push</code> 之前，先运行以下命令来拉取远程仓库的更改并尝试合并它们到你的本地分支：</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git pull origin master
</span></span></code></pre></div><p>如果出现冲突，需要解决冲突后再次提交</p><ol start=2><li><strong>强制推送：</strong> 如果你确定你的本地更改是正确的，而且你不需要保留远程仓库的更改，可以使用强制推送。但要注意，强制推送会覆盖远程分支的历史，可能会导致数据丢失。</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git push -f origin master
</span></span></code></pre></div></section><footer class=article-footer><section class=article-tags><a href=/tags/hugo/>Hugo</a>
<a href=/tags/%E5%8D%9A%E5%AE%A2/>博客</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>CC BY-NC-SA 4.0 转载请注明</span></section><section class=article-lastmod><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>最后更新于 2025-09-28 22:10</span></section></footer></article><footer class=site-footer><section class=powerby><a target=_blank title=clarity统计 href=https://clarity.microsoft.com/projects>clarity统计</a><br></section><section class=copyright><br>共手书70.6k字·共 465篇文章</br><span><p>本站已稳定运行
<span id=runningdays class=running-days></span>
<script>function updateRunningTime(){const t=new Date("2023-07-25".replace(/-/g,"/")),n=new Date,e=n-t,s=Math.floor(e/(1e3*60*60*24)),o=Math.floor(e%(1e3*60*60*24)/(1e3*60*60)),i=Math.floor(e%(1e3*60*60)/(1e3*60)),a=Math.floor(e%(1e3*60)/1e3),r=`${s} 天 ${o} 小时 ${i} 分 ${a} 秒 `;document.getElementById("runningdays").innerHTML=r}setInterval(updateRunningTime,1e3),updateRunningTime()</script><br></section><a target=_blank href=https://github.com/CaiJimmy/hugo-theme-stack title=主题开源项目><img src=/img/github.svg alt>
</a><a target=_blank href=https://gohugo.io/ title="由 HUGO 驱动"><img src=/img/hugo.svg alt>
</a><a target=_blank href=https://cloudflare.com/ title="由 CF 部署静态"><img src=/img/cloudflare.svg alt></a></footer><script src=/js/pangu.min.js></script><script>pangu.spacingPage()</script><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=/js/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=/js/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=/css/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=/css/photoswipe.min.css crossorigin=anonymous></main></div><script src=/js/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="/css/local.google.fonts.css",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>