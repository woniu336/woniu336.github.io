<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>腾讯COS on 荒芜</title><link>https://blog.taoshuge.eu.org/tags/%E8%85%BE%E8%AE%AFcos/</link><description>Recent content in 腾讯COS on 荒芜</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sat, 19 Aug 2023 11:28:45 +0000</lastBuildDate><atom:link href="https://blog.taoshuge.eu.org/tags/%E8%85%BE%E8%AE%AFcos/index.xml" rel="self" type="application/rss+xml"/><item><title>GitHub Actions自动构建Hugo并同步到腾讯COS</title><link>https://blog.taoshuge.eu.org/p/github-actions%E8%87%AA%E5%8A%A8%E6%9E%84%E5%BB%BAhugo%E5%B9%B6%E5%90%8C%E6%AD%A5%E5%88%B0%E8%85%BE%E8%AE%AFcos/</link><pubDate>Sat, 19 Aug 2023 11:28:45 +0000</pubDate><guid>https://blog.taoshuge.eu.org/p/github-actions%E8%87%AA%E5%8A%A8%E6%9E%84%E5%BB%BAhugo%E5%B9%B6%E5%90%8C%E6%AD%A5%E5%88%B0%E8%85%BE%E8%AE%AFcos/</guid><description>借助强大的 Github Action，我们能够轻松地实现博客的自动化构建与部署，让整个流程更加优雅高效。在这个过程中，我们选用了 Hugo 这一优秀的工具，它与 hexo 一样，都是出色的静态博客生成器。
考虑国内网络环境，我们选择了腾讯云COS来部署博客，以提供更快速、稳定的访问体验。这个策略让博客的美感与技术有机融合，为读者呈现出精致的阅读空间。
准备工作： 到腾讯云&amp;ndash;访问管理—用户列表，新建一个账户 地址: https://console.cloud.tencent.com/cam
访问方式改为&amp;quot;编程访问”，用户权限添加&amp;quot;QcloudCOSDataFullControl、 QcloudCDNFullAccess&amp;quot;。完成之后将生成的 SecretId、SecretKey 复制保存。
到 Github 新建一个仓库(私有公共都行)，把自己 hugo 生成的站点源文件(不是 public 下文件)同步过去。
在刚创建的仓库——Settings——Secrets and variables——Actions，
新建 SecretId、SecretKey、Bucket、 Region 四个密钥。其中 SecretId、SecretKey 为上面复制保存的，Bucket(存储桶名称)、 Region(所属地域 如:ap-guangzhou )在 COS 中存储桶列表中获取。
自动构建 在博客仓库根目录下新建 .github/workflows 文件夹，新建一个 deploy.yml（文件名随意），作用：借助 Github Action 实现自动部署
注意: 第5 38 40 行 第5行触发的分支是main还是master, 第38行改为你的用户名和仓库名,比如: 111/222 第40行是Github Pages 所在分支 最后两行是同步根目录还是public目录 完整脚本 name: Auto Deploy hugo on: push: branches: - main # 更新触发的分支 jobs: build-deploy: # runs-on: ubuntu-latest runs-on: ubuntu-20.</description></item></channel></rss>