<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ssh on 荒芜</title><link>https://blog.taoshuge.eu.org/tags/ssh/</link><description>Recent content in Ssh on 荒芜</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Wed, 27 Mar 2024 19:32:56 +0000</lastBuildDate><atom:link href="https://blog.taoshuge.eu.org/tags/ssh/index.xml" rel="self" type="application/rss+xml"/><item><title>复制本地文件到远程服务器</title><link>https://blog.taoshuge.eu.org/p/212/</link><pubDate>Wed, 27 Mar 2024 19:32:56 +0000</pubDate><guid>https://blog.taoshuge.eu.org/p/212/</guid><description>假设你使用密钥的方式登录服务器，并且 ssh 端口是 2233，并且 不是 使用 root 登录，
从桌面复制 sitemap123. xml 到服务器目录 /www/wwwroot/bt.cc 并且将文件 重命名：
~/.ssh/id_rsa 是密钥路径
ssh -p 2233 sp #登录服务器的命令，事先在~/.ssh/config文件中配置
config:
Host sp Hostname 服务器IP IdentityFile ~/.ssh/id_rsa User laoge 复制命令如下：
#!/bin/bash # 执行 SCP 命令 scp -i ~/.ssh/id_rsa -P 2233 C:/Users/Administrator/Desktop/sitemap123.xml laoge@ip:~/sitemap123.xml # 执行 SSH 命令 ssh -p 2233 sp &amp;lt;&amp;lt; &amp;#39;EOF&amp;#39; # 在 SSH 会话中执行 sudo 命令，使用 -S 选项从标准输入读取密码 echo &amp;#34;服务器密码&amp;#34; | sudo -S mv ~/sitemap123.xml /www/wwwroot/bt.cc/ # 在 SSH 会话中执行另一个 sudo 命令，使用 -S 选项从标准输入读取密码 echo &amp;#34;服务器密码&amp;#34; | sudo -S mv /www/wwwroot/bt.</description></item><item><title>最快配置SSH密钥免密码登录你的服务器</title><link>https://blog.taoshuge.eu.org/p/181/</link><pubDate>Sat, 24 Feb 2024 13:24:47 +0000</pubDate><guid>https://blog.taoshuge.eu.org/p/181/</guid><description>使用密钥方式登录更安全
自用一键设置脚本：（基于windows 10 安装了git）
#!/bin/bash # 创建SSH目录 mkdir -p ~/.ssh cd ~/.ssh # 生成SSH密钥 # 生成SSH密钥 echo -e &amp;#34;\e[32m开始愉快之旅吧\e[0m&amp;#34; echo -e &amp;#34;\e[32m系统将提示您指定密钥对名称: \e[33m一路回车\e[32m 请按Enter继续\e[0m&amp;#34; echo ssh-keygen -t ed25519 -C &amp;#34;注释随意&amp;#34; # 复制公钥到远程服务器 read -p &amp;#34;请输入SSH端口号（默认为22）：&amp;#34; ssh_port ssh_port=${ssh_port:-22} read -p &amp;#34;请输入服务器IP地址：&amp;#34; server_ip ssh-copy-id -i ~/.ssh/id_ed25519.pub -p $ssh_port root@$server_ip # 修改远程服务器配置 ssh -p $ssh_port root@$server_ip &amp;lt;&amp;lt; &amp;#39;EOF&amp;#39; if grep -q &amp;#34;^#*PubkeyAuthentication\s*no&amp;#34; /etc/ssh/sshd_config; then sudo sed -i &amp;#39;s/^#*PubkeyAuthentication\s*no/ PubkeyAuthentication yes/&amp;#39; /etc/ssh/sshd_config elif grep -q &amp;#34;^#*PubkeyAuthentication\s*yes&amp;#34; /etc/ssh/sshd_config; then sudo sed -i &amp;#39;s/^#*PubkeyAuthentication\s*yes/ PubkeyAuthentication yes/&amp;#39; /etc/ssh/sshd_config else echo &amp;#34;PubkeyAuthentication yes&amp;#34; | sudo tee -a /etc/ssh/sshd_config fi sudo service ssh restart exit EOF # 提示用户输入别名和ip read -p &amp;#34;请输入别名：&amp;#34; alias_name # 检查~/.</description></item><item><title>Linux VPS服务器SSH端口一键修改脚本</title><link>https://blog.taoshuge.eu.org/p/linux-vps%E6%9C%8D%E5%8A%A1%E5%99%A8ssh%E7%AB%AF%E5%8F%A3%E4%B8%80%E9%94%AE%E4%BF%AE%E6%94%B9%E8%84%9A%E6%9C%AC/</link><pubDate>Tue, 08 Aug 2023 06:00:20 +0000</pubDate><guid>https://blog.taoshuge.eu.org/p/linux-vps%E6%9C%8D%E5%8A%A1%E5%99%A8ssh%E7%AB%AF%E5%8F%A3%E4%B8%80%E9%94%AE%E4%BF%AE%E6%94%B9%E8%84%9A%E6%9C%AC/</guid><description>说明：我们的很多VPS服务器，默认的端口都是22，所以一直会被人扫描爆破，很容易会出现问题，所以我们需要通过修改端口来尽可能减少这种事情发生，之前发过手动修改教程，但对于很多小白或者很懒的人来说，更喜欢一键脚本就能完成的方法，这里就整了个SSH端口一键修改脚本。从OneinStack一键安装包上扒下来的。
方法 系统要求：支持Debian、Ubuntu、CentOS系统。
运行以下命令：
wget https://raw.githubusercontent.com/woniu336/open_shell/main/sshport.sh&amp;amp;&amp;amp; bash sshport.sh 输入端口确认。再打开防火墙端口：
#如果防火墙使用的iptables（Centos 6），修改端口为8080
iptables -I INPUT -p tcp --dport 8080 -j ACCEPT service iptables save service iptables restart #如果使用的是firewall（CentOS 7）
firewall-cmd --zone=public --add-port=8080/tcp --permanent firewall-cmd --reload 最后重启ssh生效：
#CentOS系统 service sshd restart #Debian/Ubuntu系统 service ssh restart 然后就可以使用新端口SSH登录了</description></item></channel></rss>